#include <unistd.h>
#include <sys/types.h>
#include <stdio.h>

int main(){
    int childPID;
    printf("This message is printed before forking\n");
    childPID = fork(); // returns 0 in child process, actual PID (a number > 0) in parent

    if(childPID == 0){
        // this code section is in the child process
        printf("[PID %d] This message is from the child process\n", getpid());
    }
    else if(childPID > 0){
        // this code section is in the parent process
        printf("[PID %d] This message is from the parent process\n", getpid());
    }

    // This section is from both parent and child
    printf("[PID %d] Everything done, exiting now...\n", getpid());
}
